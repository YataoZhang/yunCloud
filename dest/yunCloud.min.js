/*! yunCloud 2015-09-26 */
!function(a){"use strict";var b=b,c=c;if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a());else{var d;"undefined"!=typeof window?d=window:"undefined"!=typeof b?d=b:"undefined"!=typeof c&&(d=c),d.yunCloud=a()}}(function(){"use strict";var a=function(){var a={"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&quot;":'"'},c={"<":"&lt",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;"},d=function(b,d){var f=null,g=function(a,b){d=d.replace(new RegExp(a,"g"),b)};return f="encode"===b?e.forIn(c,g):e.forIn(a,g)},e={noop:function(a){return a||""},forIn:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b.call(null,c,a[c])},matchReg:/^([\S\s]+?)(|\|([\S\s]+))$/,convert:/<%-([\S\s]+?)%>/g,val:/<%&([\S\s]+?)%>/g,origin:/<%=([\S\s]+?)%>/g,expression:/<%([\s\S]+?)%>/g,render:function(a){var c=a.replace(/\n/g,"\\n");return e.convert.test(a)&&(c=c.replace(e.convert,function(a,b){return' + transfer("encode","'+b+'") + '})),e.val.test(a)&&(c=c.replace(e.val,function(a,b){return"'+ "+b+"+'"})),e.origin.test(a)&&(c=c.replace(e.origin,function(a,c){if(/\|/.test(c=c.trim())){var d=c.match(e.matchReg);return"'+ ("+(b[d[3]]||e.noop).toString()+")("+d[1]+") +'"}return"'+"+c+"+'"})),e.expression.test(a)&&(c=c.replace(e.expression,function(a,b){return"');\n"+b+"\ntpl.push('"})),c=c.replace(/\'\n/g,"'").replace(/\n\'/gm,"'"),c="tpl.push('"+c+"');",c=c.replace(/tpl.push\((''|'[\\n\s]+)'\);/g,""),c="var tpl=[];\nwith(obj||{}){\n"+c+"\n}\nreturn tpl.join('');",new Function("obj","transfer",c)}},f=function(){this.map={}};f.prototype.set=function(a,b,c){(this.map[a]=this.map[a]||{})[b]=c},f.prototype.get=function(a){return this.map[a]||{}};var g=new f;return{template:function(a){var b=g.get(a.length)[a];return b||(b=e.render(a),g.set(a.length,a,b)),function(a){return b(a,d)}}}}(),b={},c=function(b,c){return 1===arguments.length?a.template(b):a.template(b)(c)};return c.register=function(a,c){b[a]=c},c.unRegister=function(a){delete b[a]},c});